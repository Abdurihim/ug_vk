/*
    ug_vk.js (https://github.com/finalfantasia/ug_vk)
    The MIT License (MIT)
    Copyright (c) 2013 Abdussalam Abdurrahman (abdusalam.abdurahman@gmail.com)
*/
!function(e){"use strict"
function t(e,t){var n
if(e&&e.length)for(n=0;n<e.length;n++)if(e[n]===t)return n
return-1}function n(){m={a:"ھ",b:"ب",c:"غ",D:"ژ",d:"د",e:"ې",F:"ف",f:"ا",G:"گ",g:"ە",H:"خ",h:"ى",i:"ڭ",J:"ج",j:"ق",K:"ۆ",k:"ك",l:"ل",m:"م",n:"ن",o:"و",p:"پ",q:"چ",r:"ر",s:"س",t:"ت",u:"ۇ",v:"ۈ",w:"ۋ",x:"ش",y:"ي",z:"ز","/":"ئ",";":"؛","?":"؟",",":"،",_:"—","(":")",")":"(","[":"]","]":"[","{":"»","}":"«","<":"›",">":"‹"},p=[m.f,m.g,m.e,m.h,m.o,m.u,m.K,m.v],y=m["/"],E=[m[";"],m["?"],m[","]],L={},L.K=r,L.Y=a}function r(e){var t=e.srcElement||e.target
S[t.name]=1-S[t.name]}function a(e){var t=e.srcElement||e.target
t.style.direction="ltr"===t.style.direction?"rtl":"ltr"}function o(e){var n=e.charCodeAt(0)
return n>=b&&w>n&&t(E,e)<0}function c(e){return o(e)&&t(p,e)>=0}function i(e,t){var n,r=e,a=t.selectionStart
return c(e)&&(0===a?r=y+e:(n=t.value[a-1],r=!o(n)||c(n)?y+e:e)),r}function l(e,t){var n,r,a,o
C.selection&&C.selection.createRange?C.selection.createRange().text=t:(n=e.selectionStart,"textarea"===e.type&&e.scrollTop&&(a=e.scrollTop,o=e.scrollLeft),t=i(t,e),e.value=e.value.substring(0,e.selectionStart)+t+e.value.substring(e.selectionEnd),a&&(e.scrollTop=a,e.scrollLeft=o),r=n+t.length,e.setSelectionRange(r,r))}function u(e,t){function n(){e.removeEventListener("touchmove",r),e.removeEventListener("touchend",a),c=null,i=null,l=null,u=null}function r(e){var t
e.touches.length>1?n():(l=e.touches[0].pageX-c,t=e.touches[0].pageY-i,u&&0>u&&l>0||u>0&&0>l||Math.abs(t)>d?n():(u=l,e.preventDefault()))}function a(){var r=Math.abs(l)
n(),r>s&&t({target:e,direction:l>0?"RIGHT":"LEFT"})}function o(t){1===t.touches.length&&(c=t.touches[0].pageX,i=t.touches[0].pageY,e.addEventListener("touchmove",r),e.addEventListener("touchend",a))}var c,i,l,u,s=50,d=15
e.addEventListener("touchstart",o)}function s(t){var n=t||e.event,r=n.ctrlKey||n.metaKey,a=n.keyCode||n.which,o=String.fromCharCode(a).toUpperCase()
r&&L[o]&&(L[o](n),n.preventDefault?(n.preventDefault(),n.stopPropagation()):(n.returnValue=!1,n.cancelBubble=!0))}function d(t){var n=t||e.event,r=n.srcElement||n.target,a=n.ctrlKey||n.metaKey,o=n.keyCode||n.which,c=String.fromCharCode(o),i=/^[A-Z]{1}$/.test(c.toUpperCase()),u=!1
a||0!==S[r.name]||(m[c]?(n.keyCode&&!n.which?n.keyCode=m[c].charCodeAt(0):l(r,m[c]),u=!0):i&&(n.returnValue=!1,u=!0)),u&&(n.preventDefault?(n.preventDefault(),n.stopPropagation()):n.cancelBubble=!0)}function v(){var e,t,n,r=[]
for(e=C.getElementsByTagName("input"),t=C.getElementsByTagName("textarea"),n=0;n<e.length;n++)"text"===e[n].type.toLowerCase()&&r.push(e[n])
for(n=0;n<t.length;n++)r.push(t[n])
return r}function f(e,t,n){e.addEventListener?(e.removeEventListener(t,n,!1),e.addEventListener(t,n,!1)):e.attachEvent&&(e.detachEvent("on"+t,n),e.attachEvent("on"+t,n))}function h(){var e,n,a,o=!0
if(T?(o=!1,K.length&&(K=K.split(k))):(D.length&&(o=!1,D=D.split(k)),K.length&&(o=!1,T=!0,K=K.split(k))),!o)if(e=v(),T)for(a=0;a<e.length;a++)n=e[a],t(K,n.name)<0&&(f(n,"keydown",s),f(n,"keypress",d),u(n,r),S[n.name]=0)
else for(a=0;a<e.length;a++)n=e[a],t(D,n.name)>=0&&(f(n,"keydown",s),f(n,"keypress",d),u(n,r),S[n.name]=0)}function g(){n(),h()}var m,p,E,y,L,C=e.document,b=1536,w=1791,k=":",S={},T=e.attachAll||!1,D=e.bedit_allow||[],K=e.bedit_deny||[]
!function(){function t(){if(!o){if(!C.body)return setTimeout(t,1)
o=!0,g()}}function n(){if(C.addEventListener)C.removeEventListener("DOMContentLoaded",n)
else{if(!C.attachEvent)return
C.detachEvent("onreadystatechange",n)}t()}function r(){if(!o){try{C.documentElement.doScroll("left")}catch(e){return setTimeout(r,1),void 0}t()}}function a(){var a=!1
if(!c){if(c=!0,"loading"!==C.readyState)return t(),void 0
if(C.addEventListener)C.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)
else if(C.attachEvent){C.attachEvent("onreadystatechange",n),C.attachEvent("onload",n)
try{a=!e.frameElement}catch(o){}C.documentElement.doScroll&&a&&r()}}}var o=!1,c=!1
a()}()}(window)
